# Social Distancing By Occupation

## Overview
This project is the setup and execution of an agent-based simulation of social distancing practices using income and occupation as dependent variables. We received data from a range of government sources to inform contextual characteristics of different occupations and control data to inform our model. The simulations are driven by [Ryan McGee's SERIS Model](https://github.com/ryansmcgee/seirsplus).

### Our Model
The model our simulations assume is inspired from [Reluga's Game Theory of Social Distancing in Response to an Epidemic](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2877723/) and a [graphic by the New York Times](https://www.nytimes.com/interactive/2020/03/15/business/economy/coronavirus-worker-risk.html) depicting jobs with the most risk to Covid-19. Individuals social distance proportional to their income. Income here is a implicative factor towards one's ability to go to work. Each occupation has a different weight in the [Barabasi-Albert Graph](https://en.wikipedia.org/wiki/Barab%C3%A1si%E2%80%93Albert_model) and different transmission rates. This graph was generated by merging the Barabasi-Albert Graphs for individual occupations following the scheme defined in [Held, Dockhorn, and Kruse's Paper](https://www.researchgate.net/publication/271200973_On_Merging_and_Dividing_of_Barabasi-Albert-Graphs).

#### Simplifications and Assumptions for our Model:
- We siimpliified the population by capping the population at 10,000 and occupations to 565. These two simplifications were done due to limitations on computing power and data, respectively.
- When generating the Barabasii-Albert Graph, we assumed connection based off of data on how connected occupations are compared to what people actually do.
- We selected the 4 states to represent different regions of the US. 
	- Georgia was selected as it was the first state in the US to reopen their economy on April 24th, and represents the south east region of the US.
	- Washington was selected as it was the first state that was impacted by COVID-19, and represents the north west region of the US.
	- New Jersey was selected to represent the north east region of the US.
	- Utah was selected to represent the south west region of the US.
- We assumed that social distancing from employment is similar to social distancing overall. This doesn't take into account that people will be unable to social distance from neighbors.
- We assumed that individuals would social distance from others in general and not specific occupations such as essential workers. Our current model believes that an individual is equally likely to social distance from a grocery clerk compared to a restaurant waiter.

### Organization
This project is organized into two jupyter notebooks. `regression.ipynb` retreives regression data on from the following states (NJ, UT, GA, WA). `buildData.ipynb` generates pandas dataframes on charactersitics of occupations and their average income to set up  the simulation. The pickles folder contains pre-generated pickles of variables in the notebook file. This allows users to to jump straight to the simulation (*5. Running Simulations* in `buildData.ipynb`).   

![](images/DataDiagram.png)

## Regression
The regressions.ipynb file can calculate regressions on a number of data fields including social distancing data, county income and county employment. We regress county income and employment controls on social distancing and then implement the coefficient of income into our SEIRS and income model.$\beta$

## Simulation
Inside of our model, we define each agent as an `Individual` with a set of characteristics and responses to each simulation.

![](images/Individual.png)


We currently have three simulations. A *Layoff of ~30% of the population*, *A en-masse pay cut*, and *Stimulus Check* simulation. These situations will affect individuals savings by either removing their stream of income, or adding a discrete boost to one's savings as described in the `Individual` class. These were then compared to a *Baseline* progression of the disease defined by our model.

![](images/SEIRS.png)

![](images/Simulation.png)

### Utah

#### Baseline
All Features             |  Relevant Infection Features
:-------------------------:|:-------------------------:
![Baseline all data](images/baseline_showAll.png)  |  ![Baseline Infection Data](images/baseline_showInfected.png)

#### Layoffs for ~10% of pop
All Features             |  Relevant Infection Features
:-------------------------:|:-------------------------:
![Layoffs all data](images/layoff_showAll.png)  |  ![Layoffs Infection Data](images/layoff_showInfected.png)

#### Paycut
All Features             |  Relevant Infection Features
:-------------------------:|:-------------------------:
![Paycut all data](images/paycut_showAll.png)  |  ![Paycut Infection Data](images/paycut_showInfected.png)

#### Stimulus
All Features             |  Relevant Infection Features
:-------------------------:|:-------------------------:
![Stimulus all data](images/stimulus_showAll.png)  |  ![Stimulus Infection Data](images/stimulus_showInfected.png)

### New Jersey
#### Baseline

#### Layoffs for ~10% of pop


#### Paycut


#### Stimulus


### Georgia
#### Baseline

#### Layoffs for ~10% of pop


#### Paycut


#### Stimulus

### Washington
#### Baseline

#### Layoffs for ~10% of pop


#### Paycut


#### Stimulus

## Findings
In the baseline infection data graph for Utah, it is seen that the peak is reached around 125 days into the model. In the layoffs and paycut infection data graphs for Utah the peak is reached around 100 days into the model. It is clear, from the graphs above, that layoffs and paycuts will increase the spread of disease and also move the peak earlier. In the stimulus graph for Utah, it is seen that the peak is 150 days into the model, meaning that spending $9,507,600 for the model of 10000 people will delay the peak of the infection by 25 days. Overall reducing income of individuals either through layoffs or paycuts leads to the peak of the infection being earlier than baseline. On the contrary government stimulus checks increasing individuals incomes delay the peak of the infection, allowing for more time to prepare for increased infected populous.

## Data
BEA County Employment: https://www.bea.gov/data/employment/employment-by-state<br/>
BEA County Income: https://www.bea.gov/data/income-saving/personal-income-county-metro-and-other-areas  \
Google Social Distancing Data: https://www.google.com/covid19/mobility/  \
NYT Susceptiblity Data: https://www.nytimes.com/interactive/2020/03/15/business/economy/coronavirus-worker-risk.html  \
Department of Labor ONet Job Characteristics and Information: https://www.onetcenter.org/database.html#individual-files<br/>
Industries Hit Hardest by Covid: https://www.usatoday.com/story/money/2020/03/20/us-industries-being-devastated-by-the-coronavirus-travel-hotels-food/111431804/
